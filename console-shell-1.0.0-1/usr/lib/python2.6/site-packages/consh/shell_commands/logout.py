#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys
import consh.rights as rights
import consh.ansi as ansi
import time

__capability__ = 6

def logout(cmd, *args, **argv):
    """
...
_n      users logout 
_f	logout [None]
    """

    context = argv["context"]
    context.write(ansi.RED + "Are you sure that you want to logout and return to nouser?" + ansi.BOLD + " [y/N]" + ansi.RESET, ban_newline = True)
    if context.read().lower() == "y":
        context.shell_init("", rights.ERROR)
        logouttime = time.strftime("%Y-%m-%d %H:%M:%S",time.localtime(time.time()))
        context.write_log(logouttime, "logout")

